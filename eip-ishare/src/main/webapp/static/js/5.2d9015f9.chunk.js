(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{343:function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return c});var a=i(23),n=[{deviceId:1,deviceDesc:"Device 1",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:.25,inputDt:(new Date).getTime()-12*a.a},{deviceId:2,deviceDesc:"Device 2",seqNo:1231,nbSignalPwr:42.3,doorDistance:22,doorStatus:"blocked",isStaffCheck:!1,staffno:1,batteryPwr:.5,inputDt:(new Date).getTime()-12*a.a},{deviceId:3,deviceDesc:"Device 3",seqNo:2134,nbSignalPwr:2.3,doorDistance:12,doorStatus:"disconnected",isStaffCheck:!1,staffno:1,batteryPwr:0,inputDt:(new Date).getTime()-12*a.a},{deviceId:4,deviceDesc:"Device 4",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:.25,inputDt:(new Date).getTime()-12*a.a},{deviceId:5,deviceDesc:"Device 5",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:1,inputDt:(new Date).getTime()-12*a.a},{deviceId:6,deviceDesc:"Device 6",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:.75,inputDt:(new Date).getTime()-12*a.a}],c=[{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:120,inputDt:(new Date).getTime()-12*a.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-8*a.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:22,inputDt:(new Date).getTime()-4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-0*a.a,doorStatus:"disconnected"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:85,inputDt:(new Date).getTime()+12*a.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:67,inputDt:(new Date).getTime()+8*a.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:22,inputDt:(new Date).getTime()+4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-16*a.a,doorStatus:"disconnected"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-12*a.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-8*a.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-4*a.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-0*a.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()+12*a.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()+8*a.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()+4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-16*a.a,doorStatus:"disconnected"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:213,inputDt:(new Date).getTime()-12*a.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:123,inputDt:(new Date).getTime()-8*a.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:233,inputDt:(new Date).getTime()-4*a.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:23,inputDt:(new Date).getTime()-0*a.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:3,inputDt:(new Date).getTime()+12*a.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:23,inputDt:(new Date).getTime()+8*a.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:23,inputDt:(new Date).getTime()+4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:231,inputDt:(new Date).getTime()-16*a.a,doorStatus:"disconnected"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-12*a.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-8*a.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-4*a.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-0*a.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()+12*a.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()+8*a.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()+4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-16*a.a,doorStatus:"disconnected"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-12*a.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-8*a.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-4*a.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-0*a.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()+12*a.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()+8*a.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()+4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-16*a.a,doorStatus:"disconnected"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-12*a.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-8*a.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-4*a.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-0*a.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()+12*a.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()+8*a.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()+4*a.a,doorStatus:"blocked"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-16*a.a,doorStatus:"disconnected"}]},583:function(e,t,i){},611:function(e,t,i){"use strict";i.r(t);i(603);var a,n,c,o,r,s=i(599),D=i(27),d=i(46),u=i(52),v=i(48),l=i(53),g=i(24),w=(i(604),i(601)),m=i(1),S=i.n(m),b=i(425),p=i(113),T=i(23),f=i(18),h=i.n(f),P=i(37),y=i(13),O=i(14),k=(i(114),i(10)),j=i(38),E=i.n(j),_=i(343);Object(k.f)({enforceActions:"always"});var N,L=new(a=function(){function e(){Object(D.a)(this,e),Object(y.a)(this,"historyLogs",n,this),Object(y.a)(this,"startTime",c,this),Object(y.a)(this,"endTime",o,this),Object(y.a)(this,"handleAuthLogin",r,this)}return Object(d.a)(e,[{key:"changeStartAndEndTime",value:function(e){}},{key:"formatDataForLineChart",value:function(e){var t=[];return this.historyLogs.forEach(function(i){var a={id:i.deviceDesc},n=t.find(function(e){return e.id===i.deviceDesc}),c=t.find(function(e){return e.id===i.deviceDesc})||a;c.data||(c.data=[]);var o={x:new Date(i.inputDt).toISOString().slice(0,16),y:i[e]};c.data.push(o),c.data=c.data.sort(function(e,t){return new Date(e.x)-new Date(t.x)}),n||t.push(c)}),t}},{key:"distanceToTime",get:function(){return this.formatDataForLineChart("doorDistance")}}]),e}(),n=Object(O.a)(a.prototype,"historyLogs",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.a}}),c=Object(O.a)(a.prototype,"startTime",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=Object(O.a)(a.prototype,"endTime",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(O.a)(a.prototype,"changeStartAndEndTime",[k.d],Object.getOwnPropertyDescriptor(a.prototype,"changeStartAndEndTime"),a.prototype),Object(O.a)(a.prototype,"distanceToTime",[k.e],Object.getOwnPropertyDescriptor(a.prototype,"distanceToTime"),a.prototype),r=Object(O.a)(a.prototype,"handleAuthLogin",[k.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(P.a)(h.a.mark(function t(){var i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={},t.prev=1,t.next=4,E()({method:"GET",url:"/wechat/login",headers:{"content-type":"application/json"}});case 4:i=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),i=t.t0;case 10:Object(k.m)(function(){console.log(i),200===i.status&&i.data.success?(e.shouldRedirect=!0,e.isLogin=!0):console.error(i.message)});case 11:case"end":return t.stop()}},t,this,[[1,7]])}))}}),a),C=(i(583),w.a.RangePicker),x=function(e){var t=e;return e.getTime||(t=new Date(e)),t.toLocaleString()},I=Object(p.a)(N=function(e){function t(e){var i;return Object(D.a)(this,t),(i=Object(u.a)(this,Object(v.a)(t).call(this,e))).handleOk=i.handleOk.bind(Object(g.a)(Object(g.a)(i))),i.columns=[{title:"Device",key:"deviceDesc",dataIndex:"deviceDesc"},{title:"Details",key:"doorStatus",dataIndex:"doorStatus"},{title:"Date",key:"inputDt",dataIndex:"inputDt",render:function(e){return S.a.createElement("span",{className:"column__date"},x(e))}}],i.lineProps={margin:{top:40,right:20,bottom:60,left:60},legends:[{anchor:"top",direction:"row",justify:!1,translateX:0,translateY:-45,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:66,itemHeight:22,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]},i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"handleOk",value:function(e){console.log("ok",e)}},{key:"render",value:function(){return console.log("time",L.distanceToTime),S.a.createElement("div",{className:"page page__history history"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"col col-6 module module__chart"},S.a.createElement("div",{className:"module__title"},"History"),S.a.createElement("div",{className:"module__content"},S.a.createElement("div",{className:"history__picker"},S.a.createElement(C,{showTime:{format:"HH:mm"},showToday:!0,format:"YYYY-MM-DD HH:mm",placeholder:["Start Time","End Time"],onChange:this.handleChange,onOk:this.handleOk})),S.a.createElement("div",{className:"history__chart"},S.a.createElement(b.ResponsiveLine,Object.assign({data:L.distanceToTime},Object.assign({},T.b,this.lineProps),{axisLeft:Object.assign({},T.b.axisLeft,{legend:"Distance (cm)"})}))))),S.a.createElement("div",{className:"col col-6 module module__logs logs"},S.a.createElement("div",{className:"module__title"},"Service Logs"),S.a.createElement("div",{className:"logs__table"},S.a.createElement(s.a,{columns:this.columns,dataSource:L.historyLogs,size:"small"})))))}}]),t}(m.Component))||N;t.default=I}}]);
//# sourceMappingURL=5.2d9015f9.chunk.js.map