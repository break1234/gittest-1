(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{343:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return n});var i=a(23),c=[{deviceId:1,deviceDesc:"Device 1",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:.25,inputDt:(new Date).getTime()-12*i.a},{deviceId:2,deviceDesc:"Device 2",seqNo:1231,nbSignalPwr:42.3,doorDistance:22,doorStatus:"blocked",isStaffCheck:!1,staffno:1,batteryPwr:.5,inputDt:(new Date).getTime()-12*i.a},{deviceId:3,deviceDesc:"Device 3",seqNo:2134,nbSignalPwr:2.3,doorDistance:12,doorStatus:"disconnected",isStaffCheck:!1,staffno:1,batteryPwr:0,inputDt:(new Date).getTime()-12*i.a},{deviceId:4,deviceDesc:"Device 4",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:.25,inputDt:(new Date).getTime()-12*i.a},{deviceId:5,deviceDesc:"Device 5",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:1,inputDt:(new Date).getTime()-12*i.a},{deviceId:6,deviceDesc:"Device 6",seqNo:1234,nbSignalPwr:12.3,doorDistance:12,doorStatus:"active",isStaffCheck:!1,staffno:1,batteryPwr:.75,inputDt:(new Date).getTime()-12*i.a}],n=[{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:120,inputDt:(new Date).getTime()-12*i.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-8*i.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:22,inputDt:(new Date).getTime()-4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-0*i.a,doorStatus:"disconnected"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:85,inputDt:(new Date).getTime()+12*i.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:67,inputDt:(new Date).getTime()+8*i.a,doorStatus:"active"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:22,inputDt:(new Date).getTime()+4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 1",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-16*i.a,doorStatus:"disconnected"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-12*i.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-8*i.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-4*i.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-0*i.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()+12*i.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()+8*i.a,doorStatus:"active"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()+4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 2",nbSignalPwr:12.3,doorDistance:12,inputDt:(new Date).getTime()-16*i.a,doorStatus:"disconnected"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:213,inputDt:(new Date).getTime()-12*i.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:123,inputDt:(new Date).getTime()-8*i.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:233,inputDt:(new Date).getTime()-4*i.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:23,inputDt:(new Date).getTime()-0*i.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:3,inputDt:(new Date).getTime()+12*i.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:23,inputDt:(new Date).getTime()+8*i.a,doorStatus:"active"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:23,inputDt:(new Date).getTime()+4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 3",nbSignalPwr:12.3,doorDistance:231,inputDt:(new Date).getTime()-16*i.a,doorStatus:"disconnected"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-12*i.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-8*i.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-4*i.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-0*i.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()+12*i.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()+8*i.a,doorStatus:"active"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()+4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 4",nbSignalPwr:12.3,doorDistance:52,inputDt:(new Date).getTime()-16*i.a,doorStatus:"disconnected"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-12*i.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-8*i.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-4*i.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-0*i.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()+12*i.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()+8*i.a,doorStatus:"active"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()+4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 5",nbSignalPwr:12.3,doorDistance:72,inputDt:(new Date).getTime()-16*i.a,doorStatus:"disconnected"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-12*i.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-8*i.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-4*i.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-0*i.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()+12*i.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()+8*i.a,doorStatus:"active"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()+4*i.a,doorStatus:"blocked"},{deviceDesc:"Device 6",nbSignalPwr:12.3,doorDistance:2,inputDt:(new Date).getTime()-16*i.a,doorStatus:"disconnected"}]},355:function(e,t,a){"use strict";var i,c,n,o,r,s=a(18),d=a.n(s),D=a(37),u=a(13),v=a(27),l=a(46),g=a(14),m=(a(114),a(10)),p=a(38),w=a.n(p),b=a(343);Object(m.f)({enforceActions:"always"});var S=(i=function(){function e(){Object(v.a)(this,e),Object(u.a)(this,"devices",c,this),Object(u.a)(this,"autoCheckLogs",n,this),Object(u.a)(this,"manualCheckLogs",o,this),Object(u.a)(this,"handleAuthLogin",r,this)}return Object(l.a)(e,[{key:"formatCheckLogs",value:function(){var e=[];return this.autoCheckLogs.forEach(function(t){var a={deviceDesc:t.deviceDesc},i=e.find(function(e){return e.deviceDesc===t.deviceDesc}),c=e.find(function(e){return e.deviceDesc===t.deviceDesc})||a,n=new Date(t.inputDt),o="".concat(n.getHours(),":").concat(n.getMinutes());switch(t.doorStatus){case"active":c[o]=2;break;case"blocked":c[o]=1;break;case"disconnected":c[o]=0}i||e.push(c)}),e}},{key:"getCheckLogKeys",value:function(){var e=[];return this.autoCheckLogs.forEach(function(t){var a=new Date(t.inputDt),i="".concat(a.getHours(),":").concat(a.getMinutes());e.indexOf(i)<0&&e.push(i)}),e.sort(function(e,t){return parseFloat(e)-parseFloat(t)})}},{key:"formatDataForLineChart",value:function(e){var t=[];return this.autoCheckLogs.forEach(function(a){var i={id:a.deviceDesc},c=t.find(function(e){return e.id===a.deviceDesc}),n=t.find(function(e){return e.id===a.deviceDesc})||i;n.data||(n.data=[]);var o={x:new Date(a.inputDt).toISOString().slice(0,16),y:a[e]};n.data.push(o),n.data=n.data.sort(function(e,t){return new Date(e.x)-new Date(t.x)}),c||t.push(n)}),t}},{key:"formattedManualCheckLogs",get:function(){return this.formatCheckLogs()}},{key:"formattedAutoCheckLogs",get:function(){return this.formatCheckLogs()}},{key:"autoCheckLogKeys",get:function(){return this.getCheckLogKeys()}},{key:"manualCheckLogKeys",get:function(){return this.getCheckLogKeys()}},{key:"distanceToTime",get:function(){return this.formatDataForLineChart("doorDistance")}},{key:"signalToTime",get:function(){return this.formatDataForLineChart("nbSignalPwr")}}]),e}(),c=Object(g.a)(i.prototype,"devices",[m.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.b}}),n=Object(g.a)(i.prototype,"autoCheckLogs",[m.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.a}}),o=Object(g.a)(i.prototype,"manualCheckLogs",[m.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.a}}),Object(g.a)(i.prototype,"formattedManualCheckLogs",[m.e],Object.getOwnPropertyDescriptor(i.prototype,"formattedManualCheckLogs"),i.prototype),Object(g.a)(i.prototype,"formattedAutoCheckLogs",[m.e],Object.getOwnPropertyDescriptor(i.prototype,"formattedAutoCheckLogs"),i.prototype),Object(g.a)(i.prototype,"autoCheckLogKeys",[m.e],Object.getOwnPropertyDescriptor(i.prototype,"autoCheckLogKeys"),i.prototype),Object(g.a)(i.prototype,"manualCheckLogKeys",[m.e],Object.getOwnPropertyDescriptor(i.prototype,"manualCheckLogKeys"),i.prototype),Object(g.a)(i.prototype,"distanceToTime",[m.e],Object.getOwnPropertyDescriptor(i.prototype,"distanceToTime"),i.prototype),Object(g.a)(i.prototype,"signalToTime",[m.e],Object.getOwnPropertyDescriptor(i.prototype,"signalToTime"),i.prototype),r=Object(g.a)(i.prototype,"handleAuthLogin",[m.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(D.a)(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},t.prev=1,t.next=4,w()({method:"GET",url:"/wechat/login",headers:{"content-type":"application/json"}});case 4:a=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a=t.t0;case 10:Object(m.m)(function(){console.log(a),200===a.status&&a.data.success?(e.shouldRedirect=!0,e.isLogin=!0):console.error(a.message)});case 11:case"end":return t.stop()}},t,this,[[1,7]])}))}}),i);t.a=new S},530:function(e,t,a){},532:function(e,t,a){},608:function(e,t,a){"use strict";a.r(t);var i,c=a(27),n=a(46),o=a(52),r=a(48),s=a(53),d=a(1),D=a.n(d),u=a(433),v=a(113),l=a(7),g=a.n(l),m=a(355),p=function(e){var t=e.svgId,a=e.className,i=g()("svg-icon",a);return D.a.createElement("svg",{className:i},D.a.createElement("use",{xlinkHref:"".concat("","/resources/svg-sprite.svg#").concat(t)}))},w=(a(530),Object(v.a)(function(e){var t=e.className,a=g()(t,"module module__device-status device-status");return D.a.createElement("div",{className:a},D.a.createElement("div",{className:"module__title"},"Current Ultrasonic State"),D.a.createElement("div",{className:"module__content"},m.a.devices.map(function(e){var t=g()("device-status__device device",e.doorStatus),a="battery-".concat(100*e.batteryPwr);return D.a.createElement("div",{key:e.deviceId,className:t},D.a.createElement("div",{className:"device__title"},"".concat(e.deviceDesc)),D.a.createElement("div",{className:"device-status__light"},D.a.createElement(p,{svgId:"circle",className:"state-light__svg"})),D.a.createElement("div",{className:"device-status__battery"},D.a.createElement(p,{className:"battery__svg",svgId:a})))})))})),b=(a(532),Object(v.a)(i=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).heatmapProps={indexBy:"deviceDesc",forceSquare:!0,cellShape:"circle",minValue:0,maxValue:2,axisTop:{orient:"top",tickSize:0,tickPadding:5,legend:"",legendOffset:36},padding:6,axisLeft:{orient:"left",tickSize:0,tickPadding:5,tickRotation:0,legendPosition:"middle",legendOffset:-40},nanColor:"#c9c9c9",colors:["#c9c9c9","#C94E5D","#5ed60e"],margin:{top:30,bottom:10},animate:!1,enableLabels:!1,cellBorderColor:"inherit:darker(0.4)",hoverTarget:"rowColumn",cellHoverOthersOpacity:.25},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return D.a.createElement("div",{className:"page page__home home"},D.a.createElement("div",{className:"row"},D.a.createElement(w,{className:"col col-12"})),D.a.createElement("div",{className:"row"},D.a.createElement("div",{className:"col col-6 module module__heatmap heatmap"},D.a.createElement("div",{className:"module__title"},"Auto Check Status"),D.a.createElement("div",{className:"heatmap__chart"},D.a.createElement(u.ResponsiveHeatMap,Object.assign({data:m.a.formattedAutoCheckLogs,keys:m.a.autoCheckLogKeys},this.heatmapProps)))),D.a.createElement("div",{className:"col col-6 module module__heatmap heatmap"},D.a.createElement("div",{className:"module__title"},"Manual Check Status"),D.a.createElement("div",{className:"heatmap__chart"},D.a.createElement(u.ResponsiveHeatMap,Object.assign({className:"heatmap__chart",data:m.a.formattedManualCheckLogs,keys:m.a.manualCheckLogKeys},this.heatmapProps))))))}}]),t}(d.Component))||i);t.default=b}}]);
//# sourceMappingURL=3.bdb07b64.chunk.js.map