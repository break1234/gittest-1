{"version":3,"sources":["mock/device.js","stores/history-store.js","pages/history/index.js"],"names":["__webpack_require__","d","__webpack_exports__","DEVICE_MOCK","DEVICE_AUTO_LOGS","_constant__WEBPACK_IMPORTED_MODULE_0__","deviceId","deviceDesc","seqNo","nbSignalPwr","doorDistance","doorStatus","isStaffCheck","staffno","batteryPwr","inputDt","Date","getTime","HOUR","configure","enforceActions","history_store","time","key","formatArray","this","historyLogs","forEach","log","tempLog","id","itemExist","find","item","existItem","data","x","toISOString","slice","y","push","sort","a","b","formatDataForLineChart","observable","action","computed","_callee","res","regenerator_default","wrap","_context","prev","next","fetch","method","url","headers","content-type","sent","t0","runInAction","console","status","success","_this","shouldRedirect","isLogin","error","message","stop","RangePicker","formatDate","date","tempDate","toLocaleString","HistoryPage","observer","props","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleOk","bind","assertThisInitialized","columns","title","dataIndex","render","value","react_default","createElement","className","lineProps","margin","top","right","bottom","left","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","effects","on","style","itemBackground","historyStore","distanceToTime","showTime","format","showToday","placeholder","onChange","handleChange","onOk","line","assign","LINE_PROPS","axisLeft","legend","table","dataSource","size","Component"],"mappings":"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","file":"static/js/5.2d9015f9.chunk.js","sourcesContent":["import { HOUR } from '../constant';\n\nconst DEVICE_MOCK = [\n  {\n    deviceId: 1,\n    deviceDesc: 'Device 1',\n    seqNo: 1234,\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    doorStatus: 'active',\n    isStaffCheck: false,\n    staffno: 1,\n    batteryPwr: 0.25,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n  },\n  {\n    deviceId: 2,\n    deviceDesc: 'Device 2',\n    seqNo: 1231,\n    nbSignalPwr: 42.3,\n    doorDistance: 22,\n    doorStatus: 'blocked',\n    isStaffCheck: false,\n    staffno: 1,\n    batteryPwr: 0.5,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n  },\n  {\n    deviceId: 3,\n    deviceDesc: 'Device 3',\n    seqNo: 2134,\n    nbSignalPwr: 2.3,\n    doorDistance: 12,\n    doorStatus: 'disconnected',\n    isStaffCheck: false,\n    staffno: 1,\n    batteryPwr: 0,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n  },\n  {\n    deviceId: 4,\n    deviceDesc: 'Device 4',\n    seqNo: 1234,\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    doorStatus: 'active',\n    isStaffCheck: false,\n    staffno: 1,\n    batteryPwr: 0.25,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n  },\n  {\n    deviceId: 5,\n    deviceDesc: 'Device 5',\n    seqNo: 1234,\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    doorStatus: 'active',\n    isStaffCheck: false,\n    staffno: 1,\n    batteryPwr: 1,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n  },\n  {\n    deviceId: 6,\n    deviceDesc: 'Device 6',\n    seqNo: 1234,\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    doorStatus: 'active',\n    isStaffCheck: false,\n    staffno: 1,\n    batteryPwr: 0.75,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n  },\n];\n\nconst DEVICE_AUTO_LOGS = [\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 120,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 22,\n    inputDt: (new Date()).getTime() - 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() - 0 * HOUR,\n    doorStatus: 'disconnected',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 85,\n    inputDt: (new Date()).getTime() + 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 67,\n    inputDt: (new Date()).getTime() + 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 22,\n    inputDt: (new Date()).getTime() + 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 1',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 16 * HOUR,\n    doorStatus: 'disconnected',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 4 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 0 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() + 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() + 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() + 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 2',\n    nbSignalPwr: 12.3,\n    doorDistance: 12,\n    inputDt: (new Date()).getTime() - 16 * HOUR,\n    doorStatus: 'disconnected',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 213,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 123,\n    inputDt: (new Date()).getTime() - 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 233,\n    inputDt: (new Date()).getTime() - 4 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 23,\n    inputDt: (new Date()).getTime() - 0 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 3,\n    inputDt: (new Date()).getTime() + 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 23,\n    inputDt: (new Date()).getTime() + 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 23,\n    inputDt: (new Date()).getTime() + 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 3',\n    nbSignalPwr: 12.3,\n    doorDistance: 231,\n    inputDt: (new Date()).getTime() - 16 * HOUR,\n    doorStatus: 'disconnected',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() - 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() - 4 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() - 0 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() + 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() + 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() + 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 4',\n    nbSignalPwr: 12.3,\n    doorDistance: 52,\n    inputDt: (new Date()).getTime() - 16 * HOUR,\n    doorStatus: 'disconnected',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() - 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() - 4 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() - 0 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() + 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() + 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() + 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 5',\n    nbSignalPwr: 12.3,\n    doorDistance: 72,\n    inputDt: (new Date()).getTime() - 16 * HOUR,\n    doorStatus: 'disconnected',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() - 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() - 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() - 4 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() - 0 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() + 12 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() + 8 * HOUR,\n    doorStatus: 'active',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() + 4 * HOUR,\n    doorStatus: 'blocked',\n  },\n  {\n    deviceDesc: 'Device 6',\n    nbSignalPwr: 12.3,\n    doorDistance: 2,\n    inputDt: (new Date()).getTime() - 16 * HOUR,\n    doorStatus: 'disconnected',\n  },\n];\n\nexport {\n  DEVICE_MOCK,\n  DEVICE_AUTO_LOGS,\n};\n","import {\n  observable, action, configure, runInAction, computed,\n} from 'mobx';\nimport fetch from 'axios';\nimport { DEVICE_AUTO_LOGS } from '../mock/device';\n\nconfigure({ enforceActions: 'always' });\n\nclass HistoryStore {\n  @observable historyLogs = DEVICE_AUTO_LOGS;\n\n  @observable startTime = '';\n\n  @observable endTime = '';\n\n  @action changeStartAndEndTime(time) {\n\n  }\n\n  formatDataForLineChart(key) {\n    const formatArray = [];\n    this.historyLogs.forEach((log) => {\n      const tempLog = {\n        id: log.deviceDesc,\n      };\n      const itemExist = formatArray.find(item => item.id === log.deviceDesc);\n      const existItem = formatArray.find(item => item.id === log.deviceDesc) || tempLog;\n      if (!existItem.data) {\n        existItem.data = [];\n      }\n      const logTime = new Date(log.inputDt);\n\n      const data = {\n        x: logTime.toISOString().slice(0, 16),\n        y: log[key],\n      };\n\n      existItem.data.push(data);\n      existItem.data = existItem.data.sort((a, b) => new Date(a.x) - new Date(b.x));\n\n\n      if (!itemExist) {\n        formatArray.push(existItem);\n      }\n    });\n    return formatArray;\n  }\n\n  @computed get distanceToTime() {\n    return this.formatDataForLineChart('doorDistance');\n  }\n\n  @action handleAuthLogin = async () => {\n    let res = {};\n    try {\n      res = await fetch({\n        method: 'GET',\n        url: '/wechat/login',\n        headers: {\n          'content-type': 'application/json',\n        },\n      });\n    } catch (e) {\n      res = e;\n    }\n    runInAction(() => {\n      console.log(res);\n      if (res.status !== 200 || !res.data.success) {\n        console.error(res.message);\n      } else {\n        this.shouldRedirect = true;\n        this.isLogin = true;\n        // accountStore.updateAccount(res.data.data.user);\n      }\n    });\n  }\n}\n\nexport default new HistoryStore();\n","import React, { Component } from 'react';\nimport { ResponsiveLine } from '@nivo/line';\nimport { observer } from 'mobx-react';\nimport { DatePicker, Table } from 'antd';\nimport { LINE_PROPS } from '../../constant';\nimport historyStore from '../../stores/history-store';\n\nimport './index.css';\n\nconst { RangePicker } = DatePicker;\n\nconst formatDate = (date) => {\n  let tempDate = date;\n  if (!date.getTime) {\n    tempDate = new Date(date);\n  }\n  return tempDate.toLocaleString();\n};\n\n@observer\nclass HistoryPage extends Component {\n  constructor(props) {\n    super(props);\n    this.handleOk = this.handleOk.bind(this);\n    this.columns = [\n      {\n        title: 'Device',\n        key: 'deviceDesc',\n        dataIndex: 'deviceDesc',\n      },\n      {\n        title: 'Details',\n        key: 'doorStatus',\n        dataIndex: 'doorStatus',\n      },\n      {\n        title: 'Date',\n        key: 'inputDt',\n        dataIndex: 'inputDt',\n        render: value => (\n          <span className=\"column__date\">{formatDate(value)}</span>\n        ),\n      },\n    ];\n\n    this.lineProps = {\n      margin: {\n        top: 40,\n        right: 20,\n        bottom: 60,\n        left: 60,\n      },\n      legends: [\n        {\n          anchor: 'top',\n          direction: 'row',\n          justify: false,\n          translateX: 0,\n          translateY: -45,\n          itemsSpacing: 0,\n          itemDirection: 'left-to-right',\n          itemWidth: 66,\n          itemHeight: 22,\n          itemOpacity: 0.75,\n          symbolSize: 12,\n          symbolShape: 'circle',\n          symbolBorderColor: 'rgba(0, 0, 0, .5)',\n          effects: [\n            {\n              on: 'hover',\n              style: {\n                itemBackground: 'rgba(0, 0, 0, .03)',\n                itemOpacity: 1,\n              },\n            },\n          ],\n        },\n      ],\n    };\n  }\n\n  handleOk(value) {\n    console.log('ok', value);\n  }\n\n  render() {\n    console.log('time', historyStore.distanceToTime);\n    return (\n      <div className=\"page page__history history\">\n        <div className=\"row\">\n          <div className=\"col col-6 module module__chart\">\n            <div className=\"module__title\">\n              History\n            </div>\n            <div className=\"module__content\">\n              <div className=\"history__picker\">\n                <RangePicker\n                  showTime={{ format: 'HH:mm' }}\n                  showToday\n                  format=\"YYYY-MM-DD HH:mm\"\n                  placeholder={['Start Time', 'End Time']}\n                  onChange={this.handleChange}\n                  onOk={this.handleOk}\n                />\n              </div>\n              <div className=\"history__chart\">\n                <ResponsiveLine\n                  data={historyStore.distanceToTime}\n                  {...Object.assign({}, LINE_PROPS, this.lineProps)}\n                  axisLeft={Object.assign({}, LINE_PROPS.axisLeft, { legend: 'Distance (cm)' })}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col col-6 module module__logs logs\">\n            <div className=\"module__title\">\n              Service Logs\n            </div>\n            <div className=\"logs__table\">\n              <Table\n                columns={this.columns}\n                dataSource={historyStore.historyLogs}\n                size=\"small\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HistoryPage;\n"],"sourceRoot":""}